name: Deploy
on: [push]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup R
      uses: r-lib/actions/setup-r@v2
      
    - name: Install dependencies
      run: |
        Rscript -e 'install.packages(c("rmarkdown", "xaringan"))'
        
    - name: Render presentation
      run: |
        Rscript -e 'rmarkdown::render("satellite_sensor_presentation.Rmd", output_file = "index.html", output_dir = "docs")'
        touch .nojekyll
        
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./docs 